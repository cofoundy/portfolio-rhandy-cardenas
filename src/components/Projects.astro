---
import { siteConfig } from "../config";
const hasProjects = siteConfig.projects && siteConfig.projects.length > 0;
---

{
  hasProjects && (
    <section id="projects" class="py-24 px-6 bg-[#0a0f1e]">
      <div class="max-w-5xl mx-auto">
        <!-- Section header -->
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold text-[#e2e8f0] mb-4">
            Publications
          </h2>
          <div class="w-24 h-1 bg-[#3b82f6] mx-auto rounded-full" />
        </div>

        <!-- Publications list -->
        <div class="space-y-6">
          {siteConfig.projects.map((project, index) => {
            const Component = project.link ? "a" : "div";
            const linkProps = project.link
              ? {
                  href: project.link,
                  target: "_blank",
                  rel: "noopener noreferrer",
                }
              : {};

            return (
              <Component
                {...linkProps}
                class={`group block relative p-8 bg-[#1a1f2e] border border-[#334155] rounded-xl transition-all duration-300 ${
                  project.link
                    ? "hover:border-[#3b82f6] hover:shadow-lg hover:shadow-[#3b82f6]/10 cursor-pointer"
                    : ""
                }`}
              >
                {/* Number badge */}
                <div class="absolute -left-3 -top-3 w-10 h-10 flex items-center justify-center bg-[#3b82f6] rounded-lg text-[#0a0f1e] font-bold text-lg shadow-lg">
                  {String(index + 1).padStart(2, '0')}
                </div>

                {/* Link icon */}
                {project.link && (
                  <div class="absolute top-6 right-6 text-[#64748b] group-hover:text-[#60a5fa] transition-colors">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      class="transition-transform duration-300 group-hover:translate-x-1 group-hover:-translate-y-1"
                    >
                      <path d="M7 17L17 7" />
                      <path d="M7 7h10v10" />
                    </svg>
                  </div>
                )}

                <div class="space-y-4">
                  {/* Title */}
                  <h3 class="text-2xl font-bold text-[#e2e8f0] pr-8 group-hover:text-[#60a5fa] transition-colors">
                    {project.name}
                  </h3>

                  {/* Description */}
                  <p class="text-[#94a3b8] leading-relaxed">
                    {project.description}
                  </p>

                  {/* Tags/Keywords */}
                  {project.skills && project.skills.length > 0 && (
                    <div class="flex flex-wrap gap-2 pt-2">
                      {project.skills.map((skill) => (
                        <span class="px-3 py-1 bg-[#141824] border border-[#334155] text-[#94a3b8] rounded-md text-sm font-medium">
                          {skill}
                        </span>
                      ))}
                    </div>
                  )}
                </div>
              </Component>
            );
          })}
        </div>
      </div>
    </section>
  )
}
